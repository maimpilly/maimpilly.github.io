---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug"

const posts = (await getCollection("blog")).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const last_posts = posts.slice(0, 3);
---

<BaseLayout sideBarActiveItemID="home">
  <div class="pb-12 mt-5">
    <div class="text-xl py-1">Hey there ðŸ‘‹</div>
    <div class="text-5xl font-bold">I'm Sarath Chandran Maimpilly</div>
    <div class="text-3xl py-3 font-bold">Electrical Engineer</div>
    <div class="py-2">
      <text class="text-lg">
        Iâ€™m an automotive and tech enthusiast, always looking for ways to solve problems and making life a little better through innovation.
        <br><br>My background is in electrical engineering, and Iâ€™ve had the opportunity to dive into some exciting projects in the automotive and automation domains.
        <br><br>It's been a wild ride, from validating EV charging systems to building deep learning loops for automated driving and supporting the development of perfectly keyless systems (PEPS). Each role has challenged me to grow in ways I never imagined - both technically and professionally.
        <br><br>Iâ€™ve also been fortunate to take on leadership roles with IEEE and IAESTE, where Iâ€™ve developed my communication and leadership skills.
        <br><br>If youâ€™re up for a chat about tech, automotive innovations, or potential collaboration opportunities, Iâ€™d love to connect!
      </text>
    </div>
    <div class="mt-8">
      <a class="btn" href="https://linkedin.com/in/maimpilly" target="_blank"> Let's connect!</a>
      <a href="https://github.com/manuelernestog/astrofy" target="_blank" class="btn btn-outline ml-5">
        Get This template
      </a>
    </div>
  </div>

  <div>
    <div class="text-3xl w-full font-bold mb-2">My last projects {"</>"}</div>
  </div>

  <HorizontalCard
    title="Demo Project 1"
    img="/post_img.webp"
    desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
    url="#"
    badge="NEW"
  />
  <div class="divider my-0"></div>
  <HorizontalCard
    title="Demo Project 2"
    img="/post_img.webp"
    desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
    url="#"
  />
  <div class="divider my-0"></div>
  <HorizontalCard
    title="Demo Project 3"
    img="/post_img.webp"
    desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
    url="#"
    badge="FOSS"
  />

  <div>
    <div class="text-3xl w-full font-bold mb-5 mt-10">Latest from blog</div>
  </div>

  {
    last_posts.map((post) => (
      <>
        <HorizontalCard
          title={post.data.title}
          img={post.data.heroImage}
          desc={post.data.description}
          url={"/blog/" + createSlug(post.data.title, post.slug)}
          target="_self"
          badge={post.data.badge}
        />
        <div class="divider my-0" />
      </>
    ))
  }
</BaseLayout>
